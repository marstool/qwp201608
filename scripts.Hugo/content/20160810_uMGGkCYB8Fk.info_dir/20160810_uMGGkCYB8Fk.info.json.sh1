#!/bin/bash

#40000= 140  22234522     0  m4a          none     mp4a.40.2 '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=140&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=audio%2Fmp4&gir=yes&clen=22234522&dur=1399.907&lmt=1471623893191269&mt=1565485820&fvip=2&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhANI9htEJ7vJaNunjsfxligBJGXktWv9McGvnzv27QHWrAiEAnlH2pYSWhvjQNSIWrYjJV007M5jBc6Y7nkdIa2bUdQk%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D&ratebypass=yes
#40001= 251  22388341     0 webm          none          opus '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=251&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=audio%2Fwebm&gir=yes&clen=22388341&dur=1399.921&lmt=1563159243127542&mt=1565485820&fvip=2&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIhAIitIIY7PCNEiBpQy8fYwQNpG3OMY3kvFwrj_zV1ZTZ0Ah9JwP8j7K4c423CV6MMeQlO6nJ_eFYDkN9D0GSU_izP&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D&ratebypass=yes
#40002= 160  19368592   256  mp4   avc1.4d400c          none '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=160&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=video%2Fmp4&gir=yes&clen=19368592&dur=1399.856&lmt=1471623928547419&mt=1565485820&fvip=2&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgSPAqyYqS2MXwdUIDBrtmFR9cD8xCOteK1QQULVKo658CIQDdYtlMEMio6A6vyltmcYyFnin4M9sLCWcIPo99OxHhuA%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D&ratebypass=yes
#40003= 133  43102631   426  mp4   avc1.4d4015          none '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=133&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=video%2Fmp4&gir=yes&clen=43102631&dur=1399.856&lmt=1471623928453289&mt=1565485820&fvip=2&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhAL8E9xgVD-p-M5zsyPJOvdYTKikKCZB5RB9UV8PbX4lEAiEAy5pUDhk-c8cR66aoFanf87KzdbjoDlgMlit5I33d04M%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D&ratebypass=yes
#40004= 134  44792407   640  mp4   avc1.4d401e          none '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=134&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=video%2Fmp4&gir=yes&clen=44792407&dur=1399.856&lmt=1471623928452969&mt=1565485820&fvip=2&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgUrHQfXz73Wx-jn1zyqTXZ0c1TPVd-JVMEZYYwBs18E8CIQCyEgcr0U2-s--RATymuaf7PrTd7Q91mtr0GIBNN8kuoA%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D&ratebypass=yes
#40005= 135  89865358   854  mp4   avc1.4d401e          none '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=135&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=video%2Fmp4&gir=yes&clen=89865358&dur=1399.856&lmt=1471623928452858&mt=1565485820&fvip=2&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgOpxtJVXn2KHiIe3U843ZiZZhVTveaZA8kay_nsHZXwECIEwCmLv0YCWMP1XJXUpkbs-esru989E2PbPZbGzZ3EAs&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D&ratebypass=yes
#40006= 136 174770404  1280  mp4   avc1.4d401f          none '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=136&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=video%2Fmp4&gir=yes&clen=174770404&dur=1399.856&lmt=1471623932808993&mt=1565485820&fvip=2&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgOqN3mI-JHxARTLypp_6Lld0GHrYUl5bc40OnQFwtJEcCIQDEAiMYUPd-RES5SbW_Ao4enzsW74g4Xp5Q98GfIEtkSA%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D&ratebypass=yes
#40007=  43  93483205   640 webm         vp8.0        vorbis '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=43&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=video%2Fwebm&gir=yes&clen=93483205&ratebypass=yes&dur=0.000&lmt=1470892462614064&mt=1565485820&fvip=2&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRQIgcOxCwitrtS2EZsxYv08Y7ATQf780oYstESakYbeTZJMCIQDNXsNfaG_AAsS_KKZOVCYUCUxjxrvJGyvCRvfcJqvkPA%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D
#40008=  18  68848699   640  mp4   avc1.42001E     mp4a.40.2 '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=18&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=video%2Fmp4&gir=yes&clen=68848699&ratebypass=yes&dur=1399.907&lmt=1471623984508476&mt=1565485820&fvip=2&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRAIgJE_5HDC0vBVvthemw5_v0PKflP9ZpTa5TCkAtdDYUV8CICl1T4TqCWNZOYHAJ8ZHgGnQ5vYNI78fxPHEbBk7kFqK&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D
#40009=  22         0  1280  mp4   avc1.64001F     mp4a.40.2 '              https' https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=22&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=video%2Fmp4&ratebypass=yes&dur=1399.907&lmt=1471625167871219&mt=1565485820&fvip=2&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRAIgBsn7koGA3Xz_dFigYyoiP9OWNlEm8dccKQQiSDiAJn0CIEaoVtiTGg72VdyzulD8r3SWSV9Knf9_MBlMlvJPgDew&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D

wget -c -O 20160810_uMGGkCYB8Fk.info.json.jpg \
    'https://i.ytimg.com/vi/uMGGkCYB8Fk/maxresdefault.jpg' 

# Name : idx      size vo1_ao2_both3   ext   protocol
# Vo   :   2  19368592 1                mp4  'https' 
# Ao   :   1  22388341 2               webm  'https' 
# Both :   9         0 3                mp4  'https' 
# combine183838 01 : ideal : use vo + ao : 20160810_uMGGkCYB8Fk.info.json.vo.mp4 + 20160810_uMGGkCYB8Fk.info.json.ao.webm 
rm -f 20160810_uMGGkCYB8Fk.info.json.vo.mp4 
echo echo wget -c \
    -O 20160810_uMGGkCYB8Fk.info.json.vo.mp4  \
    'https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=160&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=video%2Fmp4&gir=yes&clen=19368592&dur=1399.856&lmt=1471623928547419&mt=1565485820&fvip=2&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgSPAqyYqS2MXwdUIDBrtmFR9cD8xCOteK1QQULVKo658CIQDdYtlMEMio6A6vyltmcYyFnin4M9sLCWcIPo99OxHhuA%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D&ratebypass=yes'
${HOME}/bin/youtube-dl --ignore-errors --restrict-filenames   \
    -f 160 \
    -o 20160810_uMGGkCYB8Fk.info.json.vo.mp4  \
    'https://www.youtube.com/watch?v=uMGGkCYB8Fk'
rm -f 20160810_uMGGkCYB8Fk.info.json.ao.webm 
echo echo wget -c \
    -O 20160810_uMGGkCYB8Fk.info.json.ao.webm  \
    'https://r1---sn-aigl6n7s.googlevideo.com/videoplayback?expire=1565507650&ei=4mtPXZaeJ4KOkgadmq_QDw&ip=148.163.76.139&id=o-AJ0kmbW-X2FS7t7T8nZcZlyuo_SyEVgA5rK2CHex7SbM&itag=251&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7s%2Csn-5hnedn7e&ms=au%2Conr&mv=u&mvi=0&pl=22&mime=audio%2Fwebm&gir=yes&clen=22388341&dur=1399.921&lmt=1563159243127542&mt=1565485820&fvip=2&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIhAIitIIY7PCNEiBpQy8fYwQNpG3OMY3kvFwrj_zV1ZTZ0Ah9JwP8j7K4c423CV6MMeQlO6nJ_eFYDkN9D0GSU_izP&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgQklPfYMeiYQQaZMmDzjHfUStJW2f2vl6cHs1YIhCA8sCIQDDjfHaXf8G-sY1PMVvDJsXTbh0fE0sn-DzE9teRYD0Ig%3D%3D&ratebypass=yes'
${HOME}/bin/youtube-dl --ignore-errors --restrict-filenames   \
    -f 251 \
    -o 20160810_uMGGkCYB8Fk.info.json.ao.webm  \
    'https://www.youtube.com/watch?v=uMGGkCYB8Fk'

rm -f 20160810_uMGGkCYB8Fk.info.json.wav 
/usr/bin/ffmpeg \
    -i 20160810_uMGGkCYB8Fk.info.json.ao.webm         \
    -vn -ac 1 -ar 22050 -b:a 25000        \
    20160810_uMGGkCYB8Fk.info.json.wav 
rm -f 20160810_uMGGkCYB8Fk.info.json.mp3 
rm -f 20160810_uMGGkCYB8Fk.info.json.25k.mp4 
echo echo lame       \
    20160810_uMGGkCYB8Fk.info.json.wav       \
    20160810_uMGGkCYB8Fk.info.json.mp3
/usr/bin/ffmpeg \
    -i 20160810_uMGGkCYB8Fk.info.json.ao.webm         \
    -vn -ac 1 -ar 22050 -b:a 25000        \
    20160810_uMGGkCYB8Fk.info.json.25k.mp4 
rm -f 20160810_uMGGkCYB8Fk.info.json.mp4 
/usr/bin/ffmpeg \
    -i 20160810_uMGGkCYB8Fk.info.json.vo.mp4  \
    -i 20160810_uMGGkCYB8Fk.info.json.wav        \
    -map 0:v:0 -map 1:a:0      \
    -ac 1 -ar 22050 -b:a 25000   \
    -c:v copy   \
    20160810_uMGGkCYB8Fk.info.json.mp4 \
    && (echo 'ok     :gen 20160810_uMGGkCYB8Fk.info.json.mp4' >> result.txt )\
    || (echo 'failed :gen 20160810_uMGGkCYB8Fk.info.json.mp4' >> result.txt )

#10000= description:=<此视频有关平論> 
#10001= id:=<uMGGkCYB8Fk> 
#10002= webpage_url:=<https://www.youtube.com/watch?v=uMGGkCYB8Fk> 
#10003= thumbnail:=<https://i.ytimg.com/vi/uMGGkCYB8Fk/maxresdefault.jpg> 
#10004= fulltitle:=<平论｜从泛亚到e租宝中国庞氏骗局深度解析 2016-08-10> 
#10005= format_id:=<136+251> 
#10006= upload_date:=<20160810> 
#10007= uploader:=<Weiping Show《平论》> 
#10008= protocol:=<<nil>> 

#30000=  <filesize:22234522> <protocol:https> <acodec:mp4a.40.2> <format_id:140> <vcodec:none> <ext:m4a> <url:https://r1---sn-ai>
#30001=  <url:https://r1---sn-ai> <acodec:opus> <ext:webm> <filesize:22388341> <vcodec:none> <format_id:251> <protocol:https>
#30002=  <format_id:160> <filesize:19368592> <protocol:https> <url:https://r1---sn-ai> <ext:mp4> <vcodec:avc1.4d400c> <width:256> <acodec:none>
#30003=  <format_id:133> <filesize:43102631> <url:https://r1---sn-ai> <ext:mp4> <acodec:none> <vcodec:avc1.4d4015> <width:426> <protocol:https>
#30004=  <protocol:https> <ext:mp4> <vcodec:avc1.4d401e> <filesize:44792407> <format_id:134> <url:https://r1---sn-ai> <width:640> <acodec:none>
#30005=  <vcodec:avc1.4d401e> <ext:mp4> <acodec:none> <format_id:135> <url:https://r1---sn-ai> <protocol:https> <width:854> <filesize:89865358>
#30006=  <filesize:174770404> <protocol:https> <format_id:136> <url:https://r1---sn-ai> <vcodec:avc1.4d401f> <ext:mp4> <width:1280> <acodec:none>
#30007=  <ext:webm> <protocol:https> <url:https://r1---sn-ai> <vcodec:vp8.0> <width:640> <filesize:93483205> <format_id:43> <acodec:vorbis>
#30008=  <format_id:18> <acodec:mp4a.40.2> <protocol:https> <vcodec:avc1.42001E> <width:640> <filesize:68848699> <url:https://r1---sn-ai> <ext:mp4>
#30009=  <url:https://r1---sn-ai> <ext:mp4> <protocol:https> <width:1280> <format_id:22> <acodec:mp4a.40.2> <vcodec:avc1.64001F>

