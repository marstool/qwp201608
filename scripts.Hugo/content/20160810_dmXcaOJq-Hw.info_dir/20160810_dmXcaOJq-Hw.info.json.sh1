#!/bin/bash

#40000= 140  22305394     0  m4a          none     mp4a.40.2 '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=140&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=audio%2Fmp4&gir=yes&clen=22305394&dur=1404.366&lmt=1471557434082549&mt=1565485820&fvip=1&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgNd7oAATntIaw1qEf3Zze64HYPbgl5V95RaoSNxmmvukCIQCUistKxdN-GhCoazLIADjSIw_XyexIjiNDeNf1iVxYcw%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D&ratebypass=yes
#40001= 251  22145297     0 webm          none          opus '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=251&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=audio%2Fwebm&gir=yes&clen=22145297&dur=1404.381&lmt=1564108044971650&mt=1565485820&fvip=1&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRgIhAKjgEcnddt3R6ei4tAeGFY2rFvVwURuoJrjcw-Y0VROIAiEA-aPqFcPND_2US9_fiopNeLatqVKXo2rIXe1ReWKNpVI%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D&ratebypass=yes
#40002= 160  19416231   256  mp4   avc1.4d400c          none '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=160&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=video%2Fmp4&gir=yes&clen=19416231&dur=1404.319&lmt=1471557494285611&mt=1565485820&fvip=1&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgHXFxFIAU3H0uLaw24h-lbU9v0kr8_Q0VBOybLaJiBL0CIQCJpPAB0hLkhJJ01wZqfEnu7wCMS_mF4lxyaHU_GKRUnQ%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D&ratebypass=yes
#40003= 133  43203162   426  mp4   avc1.4d4015          none '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=133&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=video%2Fmp4&gir=yes&clen=43203162&dur=1404.319&lmt=1471558507601785&mt=1565485820&fvip=1&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgOajngAInfsvXyseLRmwd_G26tgT0-Dzr3PZbG2gy390CIQCvRL8dnwwe4x0zu3ndwF0XvjXR7xxzPAFGS8wS4otL_A%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D&ratebypass=yes
#40004= 134  47600850   640  mp4   avc1.4d401e          none '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=134&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=video%2Fmp4&gir=yes&clen=47600850&dur=1404.319&lmt=1471558173233974&mt=1565485820&fvip=1&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRAIgaQyPhJm_eK7GyMqRMDav7wFPv4z-7IV-P_mbY-iM6ckCIGGYsvglTwCBHKKRzvrnTQXkvzY9KmfkFqn48f3IVeoo&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D&ratebypass=yes
#40005= 135  95766412   854  mp4   avc1.4d401e          none '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=135&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=video%2Fmp4&gir=yes&clen=95766412&dur=1404.319&lmt=1471557494384553&mt=1565485820&fvip=1&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIhAMrWC3HyCuom4bv3_Ba7nU-M6lH90jyAHIyb-Vp8nmOoAiAoSPniHZO5HdLD0tyjZ2t2YjloJfv_6vHKGxAwxZVsTw%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D&ratebypass=yes
#40006= 136 185804199  1280  mp4   avc1.4d401f          none '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=136&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=video%2Fmp4&gir=yes&clen=185804199&dur=1404.319&lmt=1471557496491522&mt=1565485820&fvip=1&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIhANGbzlx6xiRFtmCIBwI1s331jYEWUhBt64FrjtyO_fs0AiAj0VSJRDwwbc5vmfsE1Ln33yTDKQm2-g3e-ibUpjZGYg%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D&ratebypass=yes
#40007=  43 112451404   640 webm         vp8.0        vorbis '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=43&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=video%2Fwebm&gir=yes&clen=112451404&ratebypass=yes&dur=0.000&lmt=1470894201650302&mt=1565485820&fvip=1&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRgIhAN5jdItMF9vMx-Iz7uISL4DrmZfpyo8zgLzPeFPRAHI0AiEA1KGcAmWYnbjW_o6izNao1t9NH-PjJcQiCBYB3kWQ_pk%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D
#40008=  18  76087661   640  mp4   avc1.42001E     mp4a.40.2 '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=18&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=video%2Fmp4&gir=yes&clen=76087661&ratebypass=yes&dur=1404.366&lmt=1471557467711341&mt=1565485820&fvip=1&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRgIhAJWTtzGfgaDEoSxsCj1T5w39RG8yUNccx-i22azsLuoFAiEAq67Vq2vbHB9qZSejqEI9-ruw-w-J8UfzxXLtZFpUCpc%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D
#40009=  22         0  1280  mp4   avc1.64001F     mp4a.40.2 '              https' https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=22&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=video%2Fmp4&ratebypass=yes&dur=1404.366&lmt=1471558762584514&mt=1565485820&fvip=1&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cratebypass%2Cdur%2Clmt&sig=ALgxI2wwRQIhANX4dL5e4szLgW9wm5yIHdcVJiKG6moOnBSSZOeFeo7ZAiAalsW1CQZRqMHVm0Y-eEflvNbI63ETXErD_-GQh6ZP1g%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D

wget -c -O 20160810_dmXcaOJq-Hw.info.json.jpg \
    'https://i.ytimg.com/vi/dmXcaOJq-Hw/maxresdefault.jpg' 

# Name : idx      size vo1_ao2_both3   ext   protocol
# Vo   :   2  19416231 1                mp4  'https' 
# Ao   :   0  22305394 2                m4a  'https' 
# Both :   9         0 3                mp4  'https' 
# combine183838 01 : ideal : use vo + ao : 20160810_dmXcaOJq-Hw.info.json.vo.mp4 + 20160810_dmXcaOJq-Hw.info.json.ao.m4a 
rm -f 20160810_dmXcaOJq-Hw.info.json.vo.mp4 
echo echo wget -c \
    -O 20160810_dmXcaOJq-Hw.info.json.vo.mp4  \
    'https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=160&aitags=133%2C134%2C135%2C136%2C160&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=video%2Fmp4&gir=yes&clen=19416231&dur=1404.319&lmt=1471557494285611&mt=1565485820&fvip=1&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Caitags%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgHXFxFIAU3H0uLaw24h-lbU9v0kr8_Q0VBOybLaJiBL0CIQCJpPAB0hLkhJJ01wZqfEnu7wCMS_mF4lxyaHU_GKRUnQ%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D&ratebypass=yes'
${HOME}/bin/youtube-dl --ignore-errors --restrict-filenames   \
    -f 160 \
    -o 20160810_dmXcaOJq-Hw.info.json.vo.mp4  \
    'https://www.youtube.com/watch?v=dmXcaOJq-Hw'
rm -f 20160810_dmXcaOJq-Hw.info.json.ao.m4a 
echo echo wget -c \
    -O 20160810_dmXcaOJq-Hw.info.json.ao.m4a  \
    'https://r6---sn-aigl6n7d.googlevideo.com/videoplayback?expire=1565507649&ei=4WtPXbOdEJCDkwbD67m4Aw&ip=148.163.76.139&id=o-ABuZ_S3yFxonvr11oUCL18zkPw_75MPb9YqGWyPgTpel&itag=140&source=youtube&requiressl=yes&mm=31%2C26&mn=sn-aigl6n7d%2Csn-5hnekn7d&ms=au%2Conr&mv=u&mvi=5&pl=22&mime=audio%2Fmp4&gir=yes&clen=22305394&dur=1404.366&lmt=1471557434082549&mt=1565485820&fvip=1&keepalive=yes&beids=9466585&c=WEB&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cdur%2Clmt&sig=ALgxI2wwRQIgNd7oAATntIaw1qEf3Zze64HYPbgl5V95RaoSNxmmvukCIQCUistKxdN-GhCoazLIADjSIw_XyexIjiNDeNf1iVxYcw%3D%3D&lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl&lsig=AHylml4wRQIgB4A-51V6YAzCfU4A8tYiF-hTuWrQKaKQvAimZRDSsukCIQCvRIEa2cNlqhhdC3QI2gv6Xg7vS59vWnNqWVF5uZHMpA%3D%3D&ratebypass=yes'
${HOME}/bin/youtube-dl --ignore-errors --restrict-filenames   \
    -f 140 \
    -o 20160810_dmXcaOJq-Hw.info.json.ao.m4a  \
    'https://www.youtube.com/watch?v=dmXcaOJq-Hw'

rm -f 20160810_dmXcaOJq-Hw.info.json.wav 
/usr/bin/ffmpeg \
    -i 20160810_dmXcaOJq-Hw.info.json.ao.m4a         \
    -vn -ac 1 -ar 22050 -b:a 25000        \
    20160810_dmXcaOJq-Hw.info.json.wav 
rm -f 20160810_dmXcaOJq-Hw.info.json.mp3 
rm -f 20160810_dmXcaOJq-Hw.info.json.25k.mp4 
echo echo lame       \
    20160810_dmXcaOJq-Hw.info.json.wav       \
    20160810_dmXcaOJq-Hw.info.json.mp3
/usr/bin/ffmpeg \
    -i 20160810_dmXcaOJq-Hw.info.json.ao.m4a         \
    -vn -ac 1 -ar 22050 -b:a 25000        \
    20160810_dmXcaOJq-Hw.info.json.25k.mp4 
rm -f 20160810_dmXcaOJq-Hw.info.json.mp4 
/usr/bin/ffmpeg \
    -i 20160810_dmXcaOJq-Hw.info.json.vo.mp4  \
    -i 20160810_dmXcaOJq-Hw.info.json.wav        \
    -map 0:v:0 -map 1:a:0      \
    -ac 1 -ar 22050 -b:a 25000   \
    -c:v copy   \
    20160810_dmXcaOJq-Hw.info.json.mp4 \
    && (echo 'ok     :gen 20160810_dmXcaOJq-Hw.info.json.mp4' >> result.txt )\
    || (echo 'failed :gen 20160810_dmXcaOJq-Hw.info.json.mp4' >> result.txt )

#10000= description:=<此视频有关平论> 
#10001= id:=<dmXcaOJq-Hw> 
#10002= webpage_url:=<https://www.youtube.com/watch?v=dmXcaOJq-Hw> 
#10003= thumbnail:=<https://i.ytimg.com/vi/dmXcaOJq-Hw/maxresdefault.jpg> 
#10004= fulltitle:=<平论｜从泛亚到e租宝中国庞氏骗局再度解析 2016-08-10> 
#10005= format_id:=<136+251> 
#10006= upload_date:=<20160810> 
#10007= uploader:=<Weiping Show《平论》> 
#10008= protocol:=<<nil>> 

#30000=  <acodec:mp4a.40.2> <vcodec:none> <ext:m4a> <url:https://r6---sn-ai> <filesize:22305394> <protocol:https> <format_id:140>
#30001=  <acodec:opus> <filesize:22145297> <vcodec:none> <format_id:251> <protocol:https> <url:https://r6---sn-ai> <ext:webm>
#30002=  <ext:mp4> <acodec:none> <protocol:https> <format_id:160> <url:https://r6---sn-ai> <vcodec:avc1.4d400c> <filesize:19416231> <width:256>
#30003=  <vcodec:avc1.4d4015> <width:426> <protocol:https> <format_id:133> <url:https://r6---sn-ai> <ext:mp4> <filesize:43203162> <acodec:none>
#30004=  <url:https://r6---sn-ai> <acodec:none> <protocol:https> <width:640> <vcodec:avc1.4d401e> <format_id:134> <ext:mp4> <filesize:47600850>
#30005=  <url:https://r6---sn-ai> <vcodec:avc1.4d401e> <ext:mp4> <width:854> <filesize:95766412> <protocol:https> <format_id:135> <acodec:none>
#30006=  <filesize:185804199> <ext:mp4> <acodec:none> <format_id:136> <url:https://r6---sn-ai> <vcodec:avc1.4d401f> <width:1280> <protocol:https>
#30007=  <filesize:112451404> <format_id:43> <vcodec:vp8.0> <ext:webm> <width:640> <protocol:https> <url:https://r6---sn-ai> <acodec:vorbis>
#30008=  <acodec:mp4a.40.2> <url:https://r6---sn-ai> <vcodec:avc1.42001E> <format_id:18> <protocol:https> <filesize:76087661> <ext:mp4> <width:640>
#30009=  <protocol:https> <ext:mp4> <url:https://r6---sn-ai> <width:1280> <acodec:mp4a.40.2> <vcodec:avc1.64001F> <format_id:22>

